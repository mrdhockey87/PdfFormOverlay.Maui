<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="PdfFormOverlay.Maui.SecuritySetupPage"
             Title="Security Setup">
    <ScrollView>
        <StackLayout Padding="20" Spacing="20">

            <!-- Header -->
            <StackLayout>
                <Image Source="security_icon.png"
                       WidthRequest="64"
                       HeightRequest="64"
                       HorizontalOptions="Center" />
                <Label Text="Setup Security"
                       FontSize="24"
                       FontAttributes="Bold"
                       HorizontalOptions="Center"
                       Margin="0,10,0,0" />
                <Label Text="Secure your form data with a password and recovery questions"
                       FontSize="14"
                       TextColor="Gray"
                       HorizontalOptions="Center"
                       HorizontalTextAlignment="Center" />
            </StackLayout>

            <!-- Password Section -->
            <Frame BackgroundColor="LightBlue"
                   Padding="15"
                   CornerRadius="8"
                   HasShadow="True">
                <StackLayout Spacing="15">
                    <Label Text="Create Password"
                           FontSize="18"
                           FontAttributes="Bold" />

                    <Entry x:Name="passwordEntry"
                           Placeholder="Enter password (minimum 8 characters)"
                           IsPassword="True"
                           BackgroundColor="White" />

                    <Entry x:Name="confirmPasswordEntry"
                           Placeholder="Confirm password"
                           IsPassword="True"
                           BackgroundColor="White" />

                    <Label Text="Password Requirements:"
                           FontSize="12"
                           TextColor="DarkBlue" />
                    <Label Text="• At least 8 characters long"
                           FontSize="11"
                           TextColor="DarkBlue" />
                    <Label Text="• Mix of letters, numbers, and symbols recommended"
                           FontSize="11"
                           TextColor="DarkBlue" />
                </StackLayout>
            </Frame>

            <!-- Security Questions Section -->
            <Frame BackgroundColor="LightGreen"
                   Padding="15"
                   CornerRadius="8"
                   HasShadow="True">
                <StackLayout Spacing="15">
                    <Label Text="Security Questions"
                           FontSize="18"
                           FontAttributes="Bold" />
                    <Label Text="Choose 3 different questions you can easily remember"
                           FontSize="12"
                           TextColor="DarkGreen" />

                    <!-- Question 1 -->
                    <StackLayout Spacing="5">
                        <Label Text="Question 1:" FontSize="14" FontAttributes="Bold" />
                        <Picker x:Name="question1Picker"
                                Title="Select a question"
                                BackgroundColor="White" />
                        <Entry x:Name="answer1Entry"
                               Placeholder="Your answer"
                               BackgroundColor="White" />
                    </StackLayout>

                    <!-- Question 2 -->
                    <StackLayout Spacing="5">
                        <Label Text="Question 2:" FontSize="14" FontAttributes="Bold" />
                        <Picker x:Name="question2Picker"
                                Title="Select a question"
                                BackgroundColor="White" />
                        <Entry x:Name="answer2Entry"
                               Placeholder="Your answer"
                               BackgroundColor="White" />
                    </StackLayout>

                    <!-- Question 3 -->
                    <StackLayout Spacing="5">
                        <Label Text="Question 3:" FontSize="14" FontAttributes="Bold" />
                        <Picker x:Name="question3Picker"
                                Title="Select a question"
                                BackgroundColor="White" />
                        <Entry x:Name="answer3Entry"
                               Placeholder="Your answer"
                               BackgroundColor="White" />
                    </StackLayout>
                </StackLayout>
            </Frame>

            <!-- Warning -->
            <Frame BackgroundColor="LightYellow"
                   Padding="15"
                   CornerRadius="8"
                   HasShadow="True">
                <StackLayout>
                    <Label Text="⚠️ Important"
                           FontSize="16"
                           FontAttributes="Bold"
                           TextColor="Orange" />
                    <Label Text="Please remember your password and security question answers. This information cannot be recovered if lost."
                           FontSize="12"
                           TextColor="DarkOrange" />
                </StackLayout>
            </Frame>

            <!-- Buttons -->
            <StackLayout Orientation="Horizontal"
                         HorizontalOptions="Center"
                         Spacing="15">
                <Button x:Name="setupButton"
                        Text="Setup Security"
                        Clicked="OnSetupSecurityClicked"
                        BackgroundColor="Green"
                        TextColor="White"
                        WidthRequest="150"
                        CornerRadius="8" />

                <Button Text="Cancel"
                        Clicked="OnCancelClicked"
                        BackgroundColor="Gray"
                        TextColor="White"
                        WidthRequest="100"
                        CornerRadius="8" />
            </StackLayout>
        </StackLayout>
    </ScrollView>
</ContentPage>